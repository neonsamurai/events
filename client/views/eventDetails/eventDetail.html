<template name="eventDetails">
	{{>event_edit_form}}
	<div class="container">
		<a id="event_edit" href="#eventEditFormModal" data-toggle="modal" class="btn btn-primary">Event bearbeiten</a>
		{{#with event}}
			<p>{{_id}}</p>
			<h1>{{title}}</h1>
			{{>gmaps}}
			<p>{{description}}</p>
			<p>WANN: {{when}}</p>
			<p>WO: {{where}}</p>
			<p>TWITTER: {{hashtag}}</p>
			<p>GÄSTE: {{#if rsvps}}
				{{#each rsvps}}{{this.profile.name}}, {{/each}}
				{{else}} Noch keine!
				{{/if}}
			</p>
			<p>VERANSTALTER: {{owner.profile.name}}</p>
			<p>
				{{#if public}} Öffentlich
				{{else}} Privat
				{{/if}}
			</p>
		{{/with}}
	</div>
</template>

<template name="gmaps">
  {{#constant}}
  <div id="map_canvas" style="width:100%; height:300px"></div>
  {{/constant}}
</template>

<template name="event_edit_form">
  <!-- Modal -->
  {{#with event}}
  <div id="eventEditFormModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="editEventModal" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="editEventModal">Event bearbeiten</h3>
    </div>
    <div class="modal-body">
      <form class="form-horizontal">
        <div class="control-group">
          <label class="control-label" for="inputTitle">Titel</label>
          <div class="controls">
            <input
              class="input-block-level"
              type="text" id="inputTitle"
              placeholder="Titel der Veranstaltung..."
              value={{title}}
              />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputDateWhen">Wann</label>
          <div class="controls">
            <input
              id="inputDateWhen" type="text" readonly
              class="input-block-level"
              placeholder="TT/MM/YYYY HH:MM"
              value={{when}}
              >
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputHashtag">Hashtag</label>
          <div class="controls">
            <input
              class="input-block-level"
              type="text" id="inputHashtag" placeholder="#..."
              value={{hashtag}}
              />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputDescription">Beschreibung</label>
          <div class="controls">
            <textarea class="input-block-level" rows="5" id="inputDescription" placeholder="Ausführliche Beschreibung der Veranstaltung...">{{description}}</textarea>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputAdress">Adresse</label>
          <div class="controls">
            <textarea
            	class="input-block-level"
            	rows="5" id="inputAdress"
            	placeholder="Ort der Veranstaltung...">{{where}}</textarea>
          </div>
        </div>
        <div class="control-group">
          <div class="controls">
            <label class="checkbox">
              <input id="inputPublicToggle" type="checkbox" {{#if public}}checked{{/if}}> Öffentliche Veranstaltung?
            </label>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Abbrechen</button>
      <button data-dismiss="modal" class="btn btn-primary save">Änderungen speichern</button>
    </div>
  </div>
  {{/with}}
</template>